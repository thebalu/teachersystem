<h1>Course details</h1>
<p id="notice"><%= notice %></p>

<table class="table">
  <tr>
    <td>Name:</td>
    <td><%= @course.name %></td>
  </tr>
  <tr>
    <td>Teacher:</td>
    <td><%= "#{@course.teacher&.first} #{@course.teacher&.last}" %></td>
  </tr>
  <tr>
    <td>Ctype:</td>
    <td><%= @course.ctype %></td>
  </tr>

  <tr>
    <td>Description:</td>
    <td><%= @course.description %></td>
  </tr>

  <tr>
    <td>Ects:</td>
    <td><%= @course.ects %></td>
  </tr>

  <tr>
    <td>Signups/Limit:</td>
    <td><%= "#{@course.signups.count} / #{@course.limit}" %></td>
  </tr>

</table>

<% if teacher_signed_in? && @course.teacher == current_teacher %>
<%= link_to 'Edit', edit_course_path(@course) %> |
  <%end %>
<%= link_to 'Back', courses_path %>

<h1>Sessions</h1>
<table class="table">
  <tr>
    <th>When</th>
    <th>Location</th>
    <th>Description</th>
  </tr>
<% @course.sessions.each do |session| %>
    <tr>
      <td><%= session.when %></td>
      <td><%= session.location %></td>
      <td><%= session.description %></td>
    </tr>
<% end %>
</table>
<% if teacher_signed_in? && @course.teacher == current_teacher %>
  <%= link_to 'Add new session', new_course_session_path(@course) %>

<h1>Students</h1>
<table class="table">
  <tr>
    <th>ID</th>
    <th>First name</th>
    <th>Last name</th>
  </tr>
  <% @course.signups.each do |signup| %>
    <tr>
      <td><%= signup.snum %></td>
      <td><%= signup.first %></td>
      <td><%= signup.last %></td>
    </tr>
  <% end %>
</table>

<% end %>